<div class="chat" #chat>
    <m-chat-message *ngFor="let message of messages" [message]="message"></m-chat-message>
</div>
<div *ngIf="canSend" class="input-wrapper" [class.visible]="canSend">
    <m-input autofocus [(value)]="message" (keydown)="onKeyDown($event)">
        <m-button (click)="sendMessage()" class="icon">
            <m-icon *ngIf="!iconTemplate else iconTemplate" icon="caret right" size="big"></m-icon>
        </m-button>
    </m-input>
</div>
