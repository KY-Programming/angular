<ng-container *ngIf="!isRight" [ngTemplateOutlet]="labelTemplate"></ng-container>
<ng-container *ngIf="buttonPosition === 'left'" [ngTemplateOutlet]="contentTemplate"></ng-container>
<ng-content></ng-content>
<ng-container *ngIf="type === 'color'">
    <input type="text" [(ngModel)]="value" [attr.readOnly]="readonly || undefined" [attr.disabled]="disabled || undefined" (ngModelChange)="onChange()">
    <label class="ui label" [style.background-color]="value">
        <input type="color" [(ngModel)]="value" [attr.name]="name" [attr.for]="for" [attr.readOnly]="readonly || undefined" [attr.disabled]="disabled || undefined" (ngModelChange)="onChange()">
    </label>
</ng-container>
<input *m-fallback-for="'input'" [type]="type || 'text'" [placeholder]="placeholder || ''" [(ngModel)]="value" [min]="min || ''" [max]="max || ''" [attr.name]="name" [attr.for]="for" [attr.maxlength]="maxlength" [attr.readOnly]="readonly || undefined" [attr.disabled]="disabled || undefined" (ngModelChange)="onChange()" #input>
<i *ngIf="icon" class="{{icon}} link icon"></i>
<ng-container *ngIf="isRight" [ngTemplateOutlet]="labelTemplate"></ng-container>
<ng-container *ngIf="buttonPosition === 'right'" [ngTemplateOutlet]="contentTemplate"></ng-container>

<ng-template #labelTemplate>
    <ng-content select="m-label"></ng-content>
    <ng-content select="m-label-dropdown"></ng-content>
</ng-template>

<ng-template #contentTemplate>
    <ng-content select="m-button"></ng-content>
    <ng-content select="m-icon-button"></ng-content>
</ng-template>
